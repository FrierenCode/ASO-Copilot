**파일 단위 변경 계획**

1. 생성: [packages/shared/package.json](/C:/Users/Administrator/aso-copilot/packages/shared/package.json)  
`packages/shared`를 워크스페이스 패키지로 인식시키기 위한 메타데이터(`name`, `private`, `type`, `exports`)와 `zod` 의존성 추가.

2. 생성: [packages/shared/tsconfig.json](/C:/Users/Administrator/aso-copilot/packages/shared/tsconfig.json)  
`shared` 패키지 타입 추론/IDE 지원용 최소 TS 설정.

3. 생성: [packages/shared/src/generate.ts](/C:/Users/Administrator/aso-copilot/packages/shared/src/generate.ts)  
`zod` 기반 `GenerateRequestSchema`, `GenerateResponseSchema` 및 `GenerateRequest`, `GenerateResponse` 타입 정의.

4. 생성: [packages/shared/src/index.ts](/C:/Users/Administrator/aso-copilot/packages/shared/src/index.ts)  
`generate` 스키마/타입 재수출(barrel) 구성.

5. 확인(필요 시 수정): [pnpm-workspace.yaml](/C:/Users/Administrator/aso-copilot/pnpm-workspace.yaml)  
이미 `packages/*` 포함 상태이므로 보통 수정 없음. 누락 시 포함되도록 수정.

6. 수정: [apps/api/package.json](/C:/Users/Administrator/aso-copilot/apps/api/package.json)  
`@aso-copilot/shared`(workspace dependency) 추가.

7. 수정: [apps/api/src/index.ts](/C:/Users/Administrator/aso-copilot/apps/api/src/index.ts)  
`shared` 스키마 import 후 `/generate` 요청 `safeParse` 검증, 응답을 `GenerateResponse` 타입으로 고정하고 필요 시 응답 스키마로 재검증.

8. 수정: [apps/api/test/index.spec.ts](/C:/Users/Administrator/aso-copilot/apps/api/test/index.spec.ts)  
`/generate` 정상 케이스와 검증 실패 케이스(예: screenshots 길이 6 아님) 테스트로 갱신.

9. 자동 갱신 가능: [pnpm-lock.yaml](/C:/Users/Administrator/aso-copilot/pnpm-lock.yaml)  
의존성 추가 시 lockfile 변경 반영.
